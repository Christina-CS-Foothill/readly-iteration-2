<!DOCTYPE html>
<html lang="en">

  <head>
    <title>ðŸ“š Readly.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Roboto:wght@400;900&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/story-page.css">
  </head>

  <body>

    <!-- Side navigation -->
    <section id="side-bar">
      <div class="browse">
        <p>Browse</p>
        <ul class="side-bar-actions">
          <li>
            <a>Genre 1</a>
          </li>
          <li>
            <a>Genre 2</a>
          </li>
          <li>
            <a>Genre 3</a>
          </li>
          <li>
            <a>Genre 4</a>
          </li>
          <li>
            <a>
              Genre 5
            </a>
          </li>
        </ul>
      </div>
      <div class="community">
        <p>Community</p>
        <ul class="side-bar-actions">
          <li>
            <a>Authors</a>
          </li>
          <li>
            <a>Groups</a>
          </li>
          <li>
            <a>Events</a>
          </li>
        </ul>
      </div>
    </section>

    <section id="main">
      <header id="header">
        <div id="page-logo">
          <a href="/">ðŸ“š Readly.</a>
        </div>
        <nav>
          <a href="/new-story">
            <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#000000">
              <path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z" />
            </svg>
            <p class="hide">New Story</p>
          </a>
          <a href="user-profile">
            <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#000000">
              <path
                d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z" />
            </svg>
            <p class="hide">User Profile</p>
          </a>
        </nav>
      </header>

      <section id="story-section">
        <img src="<%= story.imageurl %>">
        <a href="/edit-story/<%= story.id %>">Edit Story</a>
        <h1 id="story-title">
          <%= story.storytitle %>
        </h1>
        <p id="author-name">
          <%= story.authorname %>
        </p>
        <ul id="genres-list">
          <% for(genre of story.genre) { %>
            <li>
              <p>
                <%= genre %>
              </p>
            </li>
            <% } %>
        </ul>
        <span>Created Date: <%= story.createdDate %> </span>
        <div id="story-details">
          <span>Upvotes: <%= story.upvotecount %> </span>
          <span>Views: <%= story.viewcount %> </span>
        </div>
        <div id="story-summary">
          <p>Summary</p>
          <hr>
          <p>
            <%= story.storysummary %>
          </p>
        </div>
      </section>

      <section id="chapter-section">
        <ul id="chapters-list">
          <% if( chapters.length < 1) { %>
            <div>
              <h1>No chapters added yet? Add one to get your story started!</h1>
              <button>Add new chapter</button>
            </div>
            <% } else { %>
              <% for (chapter of chapters) { %>
                <li>
                  <article>
                    <p class="chapter-title">
                      Chapter <%= chapter.chapterNumber %>: <%= chapter.chapterTitle %>
                    </p>
                    <button>Edit Chapter</button>
                    <div class="chapter-summary">
                      <p>Summary:</p>
                      <hr>
                      <p>
                        <%= chapter.chapterSummary %>
                      </p>
                    </div>
                    <p>
                      <%= chapter.chapterContent %>
                    </p>
                  </article>
                </li>
                <% } %>
                  <% } %>
        </ul>
      </section>
    </section>
  </body>

</html>